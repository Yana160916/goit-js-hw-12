{"version":3,"file":"commonHelpers.js","sources":["../main.js"],"sourcesContent":["\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet searchQuery = '';\nlet page = 1;\n\nconst createImageCard = (image) => {\n  const card = document.createElement('li');\n  card.innerHTML = `\n    <div class=\"card\">\n      <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      </a>\n      <div class=\"details\">\n        <p>Likes: ${image.likes}</p>\n        <p>Views: ${image.views}</p>\n        <p>Comments: ${image.comments}</p>\n        <p>Downloads: ${image.downloads}</p>\n      </div>\n    </div>\n  `;\n  return card;\n};\n\nconst addImagesToGallery = (images) => {\n  const gallery = document.querySelector('.images');\n  images.forEach((image) => {\n    const card = createImageCard(image);\n    gallery.appendChild(card);\n  });\n\n  const loadMoreBtn = document.querySelector('.load-more');\n  if (images.length < 15) {\n    loadMoreBtn.style.display = 'none';\n    iziToast.info({\n      title: 'End of Results',\n      message: \"We're sorry, but you've reached the end of search results.\"\n    });\n  } else {\n    loadMoreBtn.style.display = 'block';\n  }\n\n  const lightbox = new SimpleLightbox('.images a');\n  lightbox.refresh();\n};\n\nconst performSearch = async () => {\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: '42394453-5b1f47b766fae7b80cadc39a1',\n        q: searchQuery,\n        page: page,\n        per_page: 15,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true'\n      }\n    });\n\n    const images = response.data.hits;\n\n    addImagesToGallery(images);\n\n    if (images.length === 0) {\n      iziToast.warning({\n        title: 'No Results',\n        message: 'No images found for the given search query.'\n      });\n    }\n\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Error fetching images. Please try again.'\n    });\n  }\n};\n\ndocument.querySelector('.form').addEventListener('submit', async (event) => {\n  event.preventDefault();\n  searchQuery = event.target.input.value;\n  page = 1;\n  const gallery = document.querySelector('.images');\n  gallery.innerHTML = ''; // Clear the gallery before a new search\n  performSearch();\n});\n\ndocument.querySelector('.load-more').addEventListener('click', () => {\n  page++;\n  performSearch();\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Ініціалізуйте SimpleLightbox при завантаженні сторінки\n  const lightbox = new SimpleLightbox('.images a');\n});"],"names":["searchQuery","page","createImageCard","image","card","addImagesToGallery","images","gallery","loadMoreBtn","iziToast","SimpleLightbox","performSearch","axios","error","event"],"mappings":"8DAOA,IAAIA,EAAc,GACdC,EAAO,EAEX,MAAMC,EAAmBC,GAAU,CACjC,MAAMC,EAAO,SAAS,cAAc,IAAI,EACxC,OAAAA,EAAK,UAAY;AAAA;AAAA,iBAEFD,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,oBAGtCA,EAAM,KAAK;AAAA,oBACXA,EAAM,KAAK;AAAA,uBACRA,EAAM,QAAQ;AAAA,wBACbA,EAAM,SAAS;AAAA;AAAA;AAAA,IAI9BC,CACT,EAEMC,EAAsBC,GAAW,CACrC,MAAMC,EAAU,SAAS,cAAc,SAAS,EAChDD,EAAO,QAASH,GAAU,CACxB,MAAMC,EAAOF,EAAgBC,CAAK,EAClCI,EAAQ,YAAYH,CAAI,CAC5B,CAAG,EAED,MAAMI,EAAc,SAAS,cAAc,YAAY,EACnDF,EAAO,OAAS,IAClBE,EAAY,MAAM,QAAU,OAC5BC,EAAS,KAAK,CACZ,MAAO,iBACP,QAAS,4DACf,CAAK,GAEDD,EAAY,MAAM,QAAU,QAGb,IAAIE,EAAe,WAAW,EACtC,QAAO,CAClB,EAEMC,EAAgB,SAAY,CAChC,GAAI,CAaF,MAAML,GAZW,MAAMM,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAK,qCACL,EAAGZ,EACH,KAAMC,EACN,SAAU,GACV,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACP,CAAK,GAEuB,KAAK,KAE7BI,EAAmBC,CAAM,EAErBA,EAAO,SAAW,GACpBG,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,6CACjB,CAAO,CAGJ,OAAQI,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACf,CAAK,CACF,CACH,EAEA,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAU,MAAOK,GAAU,CAC1EA,EAAM,eAAc,EACpBd,EAAcc,EAAM,OAAO,MAAM,MACjCb,EAAO,EACP,MAAMM,EAAU,SAAS,cAAc,SAAS,EAChDA,EAAQ,UAAY,GACpBI,GACF,CAAC,EAED,SAAS,cAAc,YAAY,EAAE,iBAAiB,QAAS,IAAM,CACnEV,IACAU,GACF,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAEjC,IAAID,EAAe,WAAW,CACjD,CAAC"}